images/OpenDTU,Check your components for completeness. Depending on the variation{,} not every component is included.;Tip: The resistor size can be determined by colour coding{,} which you will find in the respective work step.;Alignment of resistors does not matter.;LEDs have a flat side and a shorter leg. Both indicate the negative side; capacitor C1 has a direction! This will be explained again in the work step.
images/PXL_20230402_093654980,Solder R1 (\usePart{R1}){,} R2 (\usePart{R1}) and R3 (\usePart{R3}).;Put the components through the holes at the marking on the PCB (eg. Turn the board over and solder the legs in place.;Cut off the excess wires close to the board at the soldering point. Always wear protective goggles! The sections fly uncontrolled through the air.
images/PXL_20230402_093846772,Solder on C2. C2 has no direction. Use the technique presented in step 2 for the resistors.;Cut off the excess wire ends.
images/PXL_20230402_094244239,Solder on C1. Attention: C1 has a direction. The long leg marks the positive (+) side. There is a very small plus sign printed on the board; put the long leg through the soldering point marked with the + and the short leg through the other soldering point; solder the legs from the back side; cut off the excess wire.
images/PXL_20230402_094622844,If necessary: Cut a 4-pin piece from the L-shaped pin header.;Attention: You must now insert the pin header from the back! Solder the pin header J1. The long pins should be soldered parallel to the board. Tip: Solder one soldering point first. Then you can correct the position again; solder the other legs of J1; J3 is not equipped!
images/PXL_20230402_094855328,Now solder the 2x4 pin socket U2. Attention: the component is again inserted through the board from the back side{,} i.e. on the same side as the L-shaped pin header.;Again{,} solder only one solder point and correct the position if necessary. The component should lie very flat on the board.;Then solder all remaining solder points of U2.
images/PXL_20230402_095523734,Solder D1 and D2; Attention: The component is inserted through the board from the back (just like U2 and the L-shaped pin header).;Attention: The LEDs have one direction. The long leg is the anode (+) On the PCB the anode is marked by a round solder pad. The long leg belongs in the hole with the round pad!; Make sure{,} that the LEDs stick out a little from the board (15mm{,} see photo). A plastic LED spacer is included in the delivery. Use this to position the LED correctly; first push the legs of the LED through the spacer and then solder the legs in place. Pay attention to the direction of the LED; solder one leg first. Make sure that the LED is soldered perpendicular to the board; solder the second leg in place; cut off the excess wire.
images/PXL_20230402_095931200,Solder on the two socket connectors. Attention: The socket connectors are plugged in from the side with the resistors.;Tip: Put the socket connectors lightly on the ESP32 to keep the correct position.;Solder only the pins on all four corners and then remove the ESP32{,} so that it does not get too hot.;Solder the remaining pins.;Tip: Do not use too much solder and prevent solder bridges between the pins.;Note: J2 does not have to be soldered on.
images/PXL_20230402_100459030,Connect the 4-pack of cables to the L-shaped pin header.;Connect the cables to your display as shown in the picture.;Note: The colours of your cable may be different. Make sure{,} that the connector sequence is identical to the picture{,}. So in the picture the top cable (red) on the display at GND. the second (brown) on SCK. The next one (orange) to SDA and the lowest one (yellow in the picture) at the display at VDD/VCC.
images/PXL_20230604_071744969,If you have the CMT variation{,} go to step 11.;If you have the NRF variation{,} jump to step 14.
images/PXL_20230604_071901769,If you have a pre-soldered CMT module{,} you can skip this step. Go to step 12.;Fix the CMT module on the CMT board{,} with a piece of adhesive tape so that only half of the CMT module is covered. Make sure that the orientation is correct; solder the freely accessible side first; remove the adhesive tape and solder the remaining solder points; Attention: There is a high risk of solder bridges here. Use flux and take care to remove any solder bridges.
images/PXL_20230604_072754278,Solder the antenna socket. Make sure{,} that the middle pin is on the same side as the CMT module.;Solder the socket on the front and back side.;Attention: Solder bridges must be removed!
images/PXL_20230604_073108912,Now solder the 2x4 pin header on the back. Make sure{,} that it is soldered perpendicular to the board.
images/PXL_20230402_101355455,Plug the ESP32 and the radio module into the connector positions. USB connector of the ESP32 and antenna socket must be on the same side.;Make sure{,} that the cable of the display passes the LED on the outside.;Screw on the antenna (remove the plastic protection first).
images/PXL_20230402_102245826,Check your components for the housing. You also need two toothpicks.
images/PXL_20230402_102520777,Guide the cables as shown in the picture on the board.;This way you make sure that the cables will not be squeezed{,} when they are inserted into the case.
images/PXL_20230402_102808464,Insert the PCB with the antenna first into your enclosure. Make sure{,} that the LEDs are on the side with the two holes; fix the board with the two M2x6 screws on the side. Sometimes the antenna hangs a little. Make sure{,} that the board is fully inserted. The screws should be just above the board;
images/PXL_20230402_102950429,Put the display on the nipples on the lid. You can pull the display off the cable{,} but make sure you remember the order (take a photo).;To fix the display permanently{,} either use a soldering iron to melt the nipples or insert a toothpick tip into the slot of the nipple to fix it.;Cut off the excess toothpick.
images/PXL_20230402_103414294,Reconnect the display to the cables.;Carefully guide the lid onto the case.;Screw the lid on with four M2x6 screws.;You are done with the hardware. Continue with the software.;Note: Do not worry if the display is upside down. This can still be changed in the settings.
images/Screenshot_20230402-125428,We have already given you a pre-flashed version of the ESP32. You don't have to load the software onto the controller yourself; Now connect the board to the power supply using the USB cable; At the first start-up{,} or if your device has not configured a valid WLAN{,} the board automatically starts a WLAN connection (e.g. OpenDTU-5329276); Connect to this WLAN using your laptop or mobile phone. The password is 'openDTU42' (case sensitive).
images/Screenshot_20230402-125946,Click on 'Log in to the WLAN' or enter the address 'http://192.168.4.1' in your browser.;Navigate via the Burger menu to Settings -> Network settings and log in with the user name 'admin' and 'openDTU42'.; If your home network uses an allow-list for MAC addresses{,} please note that the ESP32 has two different MAC addresses for its AP and client modes{,} which are listed under Info -> Network.; Press 'Save'. The controller will reboot.
images/Screenshot_2023-04-02_13-04-21,Take the IP address{,} that is shown in the display of the openDTU breakout board and enter it in the browser prefixed with 'http://' (e.g. http://192.168.23.133).;Add your inverter in the OpenDTU Browser page (see picture) via Settings -> Inverter (you need the serial number that is on the device).
images/thumbnail,You are done! Have fun!;For updates{,} you can get the latest release from the Github page (use 'opendtu-generic\_esp32.bin').;You can find more information about the LEDs at:\\https://github.com/tbnobody/OpenDTU/wiki/LEDs ;You can find more information at:\\https://github.com/tbnobody/OpenDTU
